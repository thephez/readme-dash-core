{
 "parentDoc": "5db0a910c4e022001110a32e", 
 "excerpt": "", 
 "api": {
  "url": "", 
  "params": [], 
  "results": {
   "codes": [
    {
     "status": 200, 
     "code": "{}", 
     "name": "", 
     "language": "json"
    }, 
    {
     "status": 400, 
     "code": "{}", 
     "name": "", 
     "language": "json"
    }
   ]
  }, 
  "auth": "required", 
  "method": "get"
 }, 
 "updatedAt": "2019-11-12T19:43:41.292Z", 
 "sync_unique": "", 
 "id": "5db0aee7da06f60053756ef8", 
 "createdAt": "2019-10-23T19:49:59.097Z", 
 "category": "5db0a86967f978006336b1b5", 
 "title": "Governance", 
 "next": {
  "pages": [
   {
    "category": "Core Guides", 
    "icon": "file-text-o", 
    "type": "doc", 
    "slug": "core-guide-dash-features-masternode-quorums", 
    "name": "Masternode Quorums"
   }
  ], 
  "description": ""
 }, 
 "version": "5daf2e65f4109c0040fd51e5", 
 "hidden": false, 
 "type": "basic", 
 "metadata": {
  "image": [], 
  "description": "", 
  "title": ""
 }, 
 "body": "# Synchronization\n\nDash Core synchronizes the governance system via the <<glossary:masternode>> <<glossary:network>> as the last stage of the Masternode sync process (following the sync of sporks, the Masternode list, and Masternode payments).\n\nThe [`govsync` message](core-ref-p2p-network-governance-messages#section-govsync) initiates a sync of the governance system. Masternodes ignore this request if they are not fully synced.  \n\nThere are two distinct stages of governance sync:\n\n1. Initial request (object sync) - requests the governance objects only via a [`govsync` message](core-ref-p2p-network-governance-messages#section-govsync) sent with a hash of all zeros.  \n\n2. Follow up request(s) (vote sync) - request governance object votes for a specific object via a [`govsync` message](core-ref-p2p-network-governance-messages#section-govsync) containing the hash of the object. One message is required for each object. Dash Core periodically (~ every 6 seconds) sends messages to connected nodes until all the governance objects have been synchronized.\n[block:callout]\n{\n  \"type\": \"info\",\n  \"body\": \"Dash Core limits how frequently the first type of sync (object sync) can be requested. Frequent requests will result in the node being banned.\",\n  \"title\": \"Governance Object Sync Limitation\"\n}\n[/block]\nMasternodes respond to the [`govsync` message](core-ref-p2p-network-governance-messages#section-govsync) with several items:\n\nFor Object Sync:\n\n* First, the Masternode sends a [`ssc` message](core-ref-p2p-network-masternode-messages#section-ssc) (Sync Status Count) for `govobj` objects. This message indicates how many <<glossary:inventory>> items will be sent.\n\n* Second, the Masternode sends an [`inv` message](core-ref-p2p-network-data-messages#section-inv) for the `govobj` and `govobjvote` objects.\n\nFor Vote Sync:\n\n* First, the Masternode sends a [`ssc` message](core-ref-p2p-network-masternode-messages#section-ssc) (Sync Status Count) for `govobjvote` objects. This message indicates how many inventory items will be sent.\n\n* Second, the Masternode sends an [`inv` message](core-ref-p2p-network-data-messages#section-inv) for the `govobjvote` object(s).\n\nOnce the syncing <<glossary:node>> receives the counts and inventories, it may request any `govobj` and `govobjvote` objects from the masternode via a [`getdata` message](core-ref-p2p-network-data-messages#section-getdata).\n\n## Governance Sync Data Flow\n\n| **Syncing Node Message** | **Direction**  | **Masternode Response**   | **Description** |\n| --- | --- | --- | --- |\n| **Initial request** | | | **Requests all governance objects (without votes)** |\n| [`govsync` message](core-ref-p2p-network-governance-messages#section-govsync)        | \u2192              |                           | Syncing node initiates governance sync (hash set to all zeros)\n|                          | \u2190              | [`ssc` message](core-ref-p2p-network-masternode-messages#section-ssc) (govobj)    | Number of governance objects (0 or more)\n|                          | \u2190              | [`inv` message](core-ref-p2p-network-data-messages#section-inv) (govobj)    | Governance object inventories\n| [`getdata` message](core-ref-p2p-network-data-messages#section-getdata) (govobj) | \u2192              |                           | (Optional) Syncing node requests govobj\n|                          | \u2190              | [`govobj` message](core-ref-p2p-network-governance-messages#section-govobj)          | (If requested) Governance object\n| | | | |\n| **Follow up requests** | | | **Requests governance object (with votes)** |\n| [`govsync` message](core-ref-p2p-network-governance-messages#section-govsync)        | \u2192              |                           | Syncing node requests governance sync for a specific governance object\n|                          | \u2190              | [`ssc` message](core-ref-p2p-network-masternode-messages#section-ssc) (govobjvote)| Number of governance object votes (0 or more)\n|                          | \u2190              | [`inv` message](core-ref-p2p-network-data-messages#section-inv) (govobjvote)| Governance object vote inventories\n| [`getdata` message](core-ref-p2p-network-data-messages#section-getdata) (govobjvote) | \u2192              |                           | (Optional) Syncing node requests govobjvote\n|                          | \u2190              | [`govobjvote` message](core-ref-p2p-network-governance-messages#section-govobjvote)      | (If requested) Governance object vote\n\n# Sentinel\n\n[Sentinel](https://github.com/dashpay/sentinel/) is a Python application that connects to a masternode's local dashd instance to run as an autonomous agent for persisting, processing, and automating Dash 12.1+ governance objects and tasks. Sentinel abstracts some governance details away from Dash Core for easier extensibility of the governance system in the future. This will allow the integration between Evolution and Dash Core to proceed more smoothly and enable new governance object additions with minimal impact to Dash Core.\n\nSentinel runs periodically and performs three main tasks as described below:\ngovernance sync, governance object pruning, and superblock management. The governance object data is stored in a SQLite database.\n\n## Sentinel Sync\n\nSentinel issues a [`gobject list` RPC](core-api-ref-remote-procedure-calls-dash#section-gobject-list) command and updates its database with the results returned from dashd. When objects are removed from the network, they are purged from the Sentinel database.\n\n## Sentinel Prune\n\nSentinel 1.1.0 introduced proposal pruning which automatically votes to delete expired proposals following approximately half of a <<glossary:superblock>> cycle. This delay period ensures that proposals are not deleted prematurely. Prior to this, proposals remained in memory unless a sufficient number of masternodes manually voted to delete them.\n\n## Sentinel Superblock\n\nSentinel manages superblock creation, voting, and submission to dashd for network propagation.\n\nBeginning ~3 days (1662 blocks) prior to a superblock, Sentinel selects one masternode per block to rank proposals. This ranking is used to determine what a candidate superblock (or \"superblock trigger\") should contain. Based on the results, it creates and broadcasts a new superblock trigger if a matching one was not found.\n\nAll masternodes vote for existing superblock triggers. Each masternode casts only 1 superblock trigger \"Yes\" vote per superblock cycle. It will vote \"No\" for any other triggers it receives.\n\n[block:callout]\n{\n  \"type\": \"warning\",\n  \"body\": \"Note: This means that proposal votes submitted _after_ superblock trigger creation begins will **not** be counted by some masternodes (those that have already voted on a superblock trigger).\",\n  \"title\": \"Single masternode trigger vote\"\n}\n[/block]\nAt the superblock height, the trigger with the most \"Yes\" votes is paid out by that block's miner.\n\n## Sentinel Ping\n[block:callout]\n{\n  \"type\": \"danger\",\n  \"body\": \"Note: Sentinel Pings were deprecated by [Dash Core v0.14](https://github.com/dashpay/sentinel/pull/64)\",\n  \"title\": \"Sentinel Ping Deprecation\"\n}\n[/block]\nIn Dash Core 12.2, use of the `watchdog` governance object type was replaced by integrating sentinel information into the masternode ping (`mnp` message) via [Pull Request #1491](https://github.com/dashpay/dash/pull/1491).\n\nFrom Dash Core 0.12.2 through Dash Core 0.13, Sentinel used the [`sentinelping` RPC](core-api-ref-remote-procedure-calls-removed#section-sentinelping) to update the masternode info and prevent it from entering a `MASTERNODE_WATCHDOG_EXPIRED` state.", 
 "link_external": false, 
 "body_html": "<div class=\"magic-block-textarea\"><h1 class=\"header-scroll\"><div class=\"anchor waypoint\" id=\"section-synchronization\"></div>Synchronization<a class=\"fa fa-anchor\" href=\"#section-synchronization\"></a></h1>\n<p>Dash Core synchronizes the governance system via the &lt;&lt;glossary:masternode&gt;&gt; &lt;&lt;glossary:network&gt;&gt; as the last stage of the Masternode sync process (following the sync of sporks, the Masternode list, and Masternode payments).</p>\n<p>The <a href=\"core-ref-p2p-network-governance-messages#section-govsync\"><code>govsync</code> message</a> initiates a sync of the governance system. Masternodes ignore this request if they are not fully synced.  </p>\n<p>There are two distinct stages of governance sync:</p>\n<ol>\n<li  value=\"1\"><p>Initial request (object sync) - requests the governance objects only via a <a href=\"core-ref-p2p-network-governance-messages#section-govsync\"><code>govsync</code> message</a> sent with a hash of all zeros.  </p>\n</li><li  value=\"2\"><p>Follow up request(s) (vote sync) - request governance object votes for a specific object via a <a href=\"core-ref-p2p-network-governance-messages#section-govsync\"><code>govsync</code> message</a> containing the hash of the object. One message is required for each object. Dash Core periodically (~ every 6 seconds) sends messages to connected nodes until all the governance objects have been synchronized.</p>\n</li></ol>\n\n</div>\n<div class=\"magic-block-callout type-info \">\n\t<h3><i title=\"Info\" class=\"fa fa-info-circle\"></i>Governance Object Sync Limitation\n\t</h3>\n\t<div class=\"callout-body\"><p>Dash Core limits how frequently the first type of sync (object sync) can be requested. Frequent requests will result in the node being banned.</p>\n\n\t</div>\n</div>\n<div class=\"magic-block-textarea\"><p>Masternodes respond to the <a href=\"core-ref-p2p-network-governance-messages#section-govsync\"><code>govsync</code> message</a> with several items:</p>\n<p>For Object Sync:</p>\n<ul>\n<li ><p>First, the Masternode sends a <a href=\"core-ref-p2p-network-masternode-messages#section-ssc\"><code>ssc</code> message</a> (Sync Status Count) for <code>govobj</code> objects. This message indicates how many &lt;&lt;glossary:inventory&gt;&gt; items will be sent.</p>\n</li><li ><p>Second, the Masternode sends an <a href=\"core-ref-p2p-network-data-messages#section-inv\"><code>inv</code> message</a> for the <code>govobj</code> and <code>govobjvote</code> objects.</p>\n</li></ul>\n<p>For Vote Sync:</p>\n<ul>\n<li ><p>First, the Masternode sends a <a href=\"core-ref-p2p-network-masternode-messages#section-ssc\"><code>ssc</code> message</a> (Sync Status Count) for <code>govobjvote</code> objects. This message indicates how many inventory items will be sent.</p>\n</li><li ><p>Second, the Masternode sends an <a href=\"core-ref-p2p-network-data-messages#section-inv\"><code>inv</code> message</a> for the <code>govobjvote</code> object(s).</p>\n</li></ul>\n<p>Once the syncing &lt;&lt;glossary:node&gt;&gt; receives the counts and inventories, it may request any <code>govobj</code> and <code>govobjvote</code> objects from the masternode via a <a href=\"core-ref-p2p-network-data-messages#section-getdata\"><code>getdata</code> message</a>.</p>\n<h2 class=\"header-scroll\"><div class=\"anchor waypoint\" id=\"section-governance-sync-data-flow\"></div>Governance Sync Data Flow<a class=\"fa fa-anchor\" href=\"#section-governance-sync-data-flow\"></a></h2>\n<div class=\"marked-table\"><table>\n<thead>\n<tr>\n<th><strong>Syncing Node Message</strong></th>\n<th><strong>Direction</strong></th>\n<th><strong>Masternode Response</strong></th>\n<th><strong>Description</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Initial request</strong></td>\n<td></td>\n<td></td>\n<td><strong>Requests all governance objects (without votes)</strong></td>\n</tr>\n<tr>\n<td><a href=\"core-ref-p2p-network-governance-messages#section-govsync\"><code>govsync</code> message</a></td>\n<td>\u2192</td>\n<td></td>\n<td>Syncing node initiates governance sync (hash set to all zeros)</td>\n</tr>\n<tr>\n<td></td>\n<td>\u2190</td>\n<td><a href=\"core-ref-p2p-network-masternode-messages#section-ssc\"><code>ssc</code> message</a> (govobj)</td>\n<td>Number of governance objects (0 or more)</td>\n</tr>\n<tr>\n<td></td>\n<td>\u2190</td>\n<td><a href=\"core-ref-p2p-network-data-messages#section-inv\"><code>inv</code> message</a> (govobj)</td>\n<td>Governance object inventories</td>\n</tr>\n<tr>\n<td><a href=\"core-ref-p2p-network-data-messages#section-getdata\"><code>getdata</code> message</a> (govobj)</td>\n<td>\u2192</td>\n<td></td>\n<td>(Optional) Syncing node requests govobj</td>\n</tr>\n<tr>\n<td></td>\n<td>\u2190</td>\n<td><a href=\"core-ref-p2p-network-governance-messages#section-govobj\"><code>govobj</code> message</a></td>\n<td>(If requested) Governance object</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>Follow up requests</strong></td>\n<td></td>\n<td></td>\n<td><strong>Requests governance object (with votes)</strong></td>\n</tr>\n<tr>\n<td><a href=\"core-ref-p2p-network-governance-messages#section-govsync\"><code>govsync</code> message</a></td>\n<td>\u2192</td>\n<td></td>\n<td>Syncing node requests governance sync for a specific governance object</td>\n</tr>\n<tr>\n<td></td>\n<td>\u2190</td>\n<td><a href=\"core-ref-p2p-network-masternode-messages#section-ssc\"><code>ssc</code> message</a> (govobjvote)</td>\n<td>Number of governance object votes (0 or more)</td>\n</tr>\n<tr>\n<td></td>\n<td>\u2190</td>\n<td><a href=\"core-ref-p2p-network-data-messages#section-inv\"><code>inv</code> message</a> (govobjvote)</td>\n<td>Governance object vote inventories</td>\n</tr>\n<tr>\n<td><a href=\"core-ref-p2p-network-data-messages#section-getdata\"><code>getdata</code> message</a> (govobjvote)</td>\n<td>\u2192</td>\n<td></td>\n<td>(Optional) Syncing node requests govobjvote</td>\n</tr>\n<tr>\n<td></td>\n<td>\u2190</td>\n<td><a href=\"core-ref-p2p-network-governance-messages#section-govobjvote\"><code>govobjvote</code> message</a></td>\n<td>(If requested) Governance object vote</td>\n</tr>\n</tbody>\n</table></div>\n<h1 class=\"header-scroll\"><div class=\"anchor waypoint\" id=\"section-sentinel\"></div>Sentinel<a class=\"fa fa-anchor\" href=\"#section-sentinel\"></a></h1>\n<p><a href=\"https://github.com/dashpay/sentinel/\">Sentinel</a> is a Python application that connects to a masternode&#39;s local dashd instance to run as an autonomous agent for persisting, processing, and automating Dash 12.1+ governance objects and tasks. Sentinel abstracts some governance details away from Dash Core for easier extensibility of the governance system in the future. This will allow the integration between Evolution and Dash Core to proceed more smoothly and enable new governance object additions with minimal impact to Dash Core.</p>\n<p>Sentinel runs periodically and performs three main tasks as described below:<br>governance sync, governance object pruning, and superblock management. The governance object data is stored in a SQLite database.</p>\n<h2 class=\"header-scroll\"><div class=\"anchor waypoint\" id=\"section-sentinel-sync\"></div>Sentinel Sync<a class=\"fa fa-anchor\" href=\"#section-sentinel-sync\"></a></h2>\n<p>Sentinel issues a <a href=\"core-api-ref-remote-procedure-calls-dash#section-gobject-list\"><code>gobject list</code> RPC</a> command and updates its database with the results returned from dashd. When objects are removed from the network, they are purged from the Sentinel database.</p>\n<h2 class=\"header-scroll\"><div class=\"anchor waypoint\" id=\"section-sentinel-prune\"></div>Sentinel Prune<a class=\"fa fa-anchor\" href=\"#section-sentinel-prune\"></a></h2>\n<p>Sentinel 1.1.0 introduced proposal pruning which automatically votes to delete expired proposals following approximately half of a &lt;&lt;glossary:superblock&gt;&gt; cycle. This delay period ensures that proposals are not deleted prematurely. Prior to this, proposals remained in memory unless a sufficient number of masternodes manually voted to delete them.</p>\n<h2 class=\"header-scroll\"><div class=\"anchor waypoint\" id=\"section-sentinel-superblock\"></div>Sentinel Superblock<a class=\"fa fa-anchor\" href=\"#section-sentinel-superblock\"></a></h2>\n<p>Sentinel manages superblock creation, voting, and submission to dashd for network propagation.</p>\n<p>Beginning ~3 days (1662 blocks) prior to a superblock, Sentinel selects one masternode per block to rank proposals. This ranking is used to determine what a candidate superblock (or &quot;superblock trigger&quot;) should contain. Based on the results, it creates and broadcasts a new superblock trigger if a matching one was not found.</p>\n<p>All masternodes vote for existing superblock triggers. Each masternode casts only 1 superblock trigger &quot;Yes&quot; vote per superblock cycle. It will vote &quot;No&quot; for any other triggers it receives.</p>\n\n</div>\n<div class=\"magic-block-callout type-warning \">\n\t<h3><i title=\"Warning\" class=\"fa fa-exclamation-circle\"></i>Single masternode trigger vote\n\t</h3>\n\t<div class=\"callout-body\"><p>Note: This means that proposal votes submitted <em>after</em> superblock trigger creation begins will <strong>not</strong> be counted by some masternodes (those that have already voted on a superblock trigger).</p>\n\n\t</div>\n</div>\n<div class=\"magic-block-textarea\"><p>At the superblock height, the trigger with the most &quot;Yes&quot; votes is paid out by that block&#39;s miner.</p>\n<h2 class=\"header-scroll\"><div class=\"anchor waypoint\" id=\"section-sentinel-ping\"></div>Sentinel Ping<a class=\"fa fa-anchor\" href=\"#section-sentinel-ping\"></a></h2>\n\n</div>\n<div class=\"magic-block-callout type-danger \">\n\t<h3><i title=\"Danger\" class=\"fa fa-exclamation-triangle\"></i>Sentinel Ping Deprecation\n\t</h3>\n\t<div class=\"callout-body\"><p>Note: Sentinel Pings were deprecated by <a href=\"https://github.com/dashpay/sentinel/pull/64\">Dash Core v0.14</a></p>\n\n\t</div>\n</div>\n<div class=\"magic-block-textarea\"><p>In Dash Core 12.2, use of the <code>watchdog</code> governance object type was replaced by integrating sentinel information into the masternode ping (<code>mnp</code> message) via <a href=\"https://github.com/dashpay/dash/pull/1491\">Pull Request #1491</a>.</p>\n<p>From Dash Core 0.12.2 through Dash Core 0.13, Sentinel used the <a href=\"core-api-ref-remote-procedure-calls-removed#section-sentinelping\"><code>sentinelping</code> RPC</a> to update the masternode info and prevent it from entering a <code>MASTERNODE_WATCHDOG_EXPIRED</code> state.</p>\n\n</div>", 
 "user": "5b8400d7185d5e00036dcc3b", 
 "isReference": false, 
 "slug": "core-guide-dash-features-governance", 
 "link_url": "", 
 "isApi": false, 
 "project": "5daf2e65f4109c0040fd51e1", 
 "__v": 3, 
 "_id": "5db0aee7da06f60053756ef8", 
 "order": 5, 
 "updates": []
}